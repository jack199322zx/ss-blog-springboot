<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sstyle.server.mapper.UserMapper">
    <select id="queryUsername" parameterType="string" resultType="com.sstyle.server.domain.User">
        SELECT USER_ID 'id', USER_PASSWORD 'password', USER_CODE 'userCode', USER_TELEPHONE 'telephone',
            USER_EMAIL 'email', USER_ADDRESS 'address', UPDATE_TIME 'updateTime', CREATE_TIME 'createTime'
                FROM ss_user
                WHERE USER_CODE = #{username}
    </select>

    <insert id="saveUserFavorite">
        INSERT INTO ss_user_favorite(USER_ID, FAVORITE_ARTICLE_ID, CREATE_TIME, UPDATE_TIME) VALUES(#{userId}, #{articleId}, NOW(), NOW())
    </insert>

    <update id="cancelUserFavorite">
        UPDATE ss_user_favorite SET STATE = '0' WHERE USER_ID = #{userId} and FAVORITE_ARTICLE_ID = #{articleId}
    </update>
</mapper>